<div
    id="error-message"
    hx-swap-oob="true"
    {% if error_message %}
        class="
        {% if error_type == 'error' %}
            bg-red-100 border-red-500 text-red-700
        {% else %}
            bg-yellow-100 border-yellow-500 text-yellow-700
        {% endif %}
        border-l-4 p-4 mb-4
        "
    {% endif %}
>
    {% if error_message %}
        <p>{{ error_message }}</p>
    {% endif %}
</div>

{% if not error_message %}
    {% if is_first_batch and header_text %}
        <p class="text-sm text-gray-500 mb-2">
            {{ header_text }}
        </p>
    {% endif %}

    {% if is_first_batch and total_works == 0 %}
        <div class="text-center mt-8">
            <p class="text-lg text-gray-600">
            No artworks match your selected filters.
            </p>
        </div>
    {% else %}
          <div
            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4
                  {% if not is_first_batch %}mt-4{% endif %}"
          >
            {% for result in results %}
              {% include "partials/artwork_card.html" %}
            {% endfor %}
          </div>
          {# Load more artworks when the user scrolls down #}
          <div
            hx-get="{{ urls.get_artworks_with_params }}"
            hx-trigger="revealed"
            hx-swap="outerHTML"
            class="py-4 text-center text-gray-500"
          ></div>
      {% endif %} <!-- End of total_works check -->
{% endif %} <!-- End of not_error_message check -->

{# OOB swap for model selector when fallback occurred #}
{% if actual_model and actual_model != selected_model %}
<div id="model-selector" hx-swap-oob="true" class="inline-flex items-center gap-2">
    <span class="text-gray-500 text-sm">Model:</span>
    <div class="inline-flex rounded-lg bg-gray-100 p-0.5">
        {% for model in embedding_models %}
        <label class="relative cursor-pointer">
            <input type="radio" name="model" value="{{ model.value }}"
                   {% if model.value == actual_model %}checked{% endif %}
                   class="peer sr-only">
            <span class="block px-3 py-1 rounded-md text-gray-500 text-sm font-medium transition-all
                         peer-checked:bg-white peer-checked:text-blue-600 peer-checked:shadow-sm
                         hover:text-gray-700">
                {{ model.label }}
            </span>
        </label>
        {% endfor %}
    </div>
</div>
{% endif %}
